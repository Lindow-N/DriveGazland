(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{2936:function(e,t,r){Promise.resolve().then(r.bind(r,232))},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},232:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(7437),a=r(2265),n=r(3390),l=r(2549),i=r(263),o=r(7453);let d=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))});var c=(0,i.Z)(()=>{let e=["Nombre d'uploads","Nombre de tags cr\xe9\xe9s","Nombre de succ\xe8s d\xe9bloqu\xe9s"],[t,r]=(0,a.useState)(e[0]),{allUsers:i}=(0,o.a)(),c=(i||[]).sort((e,r)=>{var s,a,n,l;return"Nombre d'uploads"===t?(r.totalFileUploads||0)-(e.totalFileUploads||0):"Nombre de tags cr\xe9\xe9s"===t?((null===(s=r.createdTags)||void 0===s?void 0:s.length)||0)-((null===(a=e.createdTags)||void 0===a?void 0:a.length)||0):"Nombre de succ\xe8s d\xe9bloqu\xe9s"===t?(Number(null===(n=r.achievements)||void 0===n?void 0:n.length)||0)-(Number(null===(l=e.achievements)||void 0===l?void 0:l.length)||0):0});return(0,s.jsx)(n.Z,{children:(0,s.jsxs)("div",{className:"bg-dark1 min-h-screen p-8 text-white",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 font-title lg:ml-0 ml-6",children:"Classement"}),(0,s.jsx)(l.Z,{categories:e,selectedCategory:t,onCategorySelect:r}),(0,s.jsx)("div",{className:"bg-dark2 p-4 rounded-lg shadow-md mt-6",children:(0,s.jsx)("div",{className:"space-y-4",children:c.map((e,r)=>{var a,n;return(0,s.jsxs)("div",{className:"flex items-center bg-dark3 p-4 rounded-md shadow hover:shadow-lg transition-shadow duration-300",children:[(0,s.jsx)("div",{className:"mr-4 flex items-center",children:0===r?(0,s.jsx)(d,{className:"w-6 h-6 text-yellow-400"}):1===r?(0,s.jsx)(d,{className:"w-6 h-6 text-gray-400"}):2===r?(0,s.jsx)(d,{className:"w-6 h-6 text-amber-600"}):(0,s.jsx)("span",{className:"w-6 h-6 text-gray-500",children:r+1})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("h3",{className:"font-bold text-white",children:e.pseudonym})}),(0,s.jsx)("span",{className:"text-greenPrimary font-bold",children:"Nombre d'uploads"===t?e.totalFileUploads:"Nombre de tags cr\xe9\xe9s"===t?(null==e?void 0:null===(a=e.createdTags)||void 0===a?void 0:a.length)||0:(null==e?void 0:null===(n=e.achievements)||void 0===n?void 0:n.length)||0})]},e.id)})})})]})})})},2549:function(e,t,r){"use strict";var s=r(7437);r(2265),t.Z=e=>{let{categories:t,selectedCategory:r,onCategorySelect:a}=e;return(0,s.jsxs)("div",{className:"bg-dark1 p-4 sm:p-8 md:p-16 md:pb-0",children:[(0,s.jsx)("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white mb-4",children:r}),(0,s.jsx)("div",{className:"flex space-x-2 sm:space-x-4 overflow-x-auto",children:t.map(e=>(0,s.jsx)("button",{onClick:()=>a(e),className:"px-3 py-1 sm:px-4 sm:py-2 rounded-md text-sm sm:text-md md:text-lg transition duration-150 ease-in-out ".concat(r===e?"bg-dark3 text-white":"bg-transparent text-gray-400 opacity-80"," hover:bg-dark2 hover:text-white"),children:e},e))})]})}},466:function(e,t,r){"use strict";r.d(t,{FilesProvider:function(){return o},Y:function(){return d}});var s=r(7437),a=r(2265),n=r(9842),l=r(3908);let i=(0,a.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)(0),[d,c]=(0,a.useState)(!0),[u,h]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=(0,n.hJ)(l.db,"linkedTags"),t=(0,n.cf)(e,e=>{h(e.docs.map(e=>({id:e.id,group:e.data().group,tags:e.data().tags})))});return()=>t()},[]),(0,a.useEffect)(()=>{let e=(0,n.cf)((0,n.hJ)(l.db,"files"),e=>{o(e.size),c(!1)},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des fichiers en temps r\xe9el :",e)});return()=>e()},[]),(0,s.jsx)(i.Provider,{value:{totalFiles:r,loadingFiles:d,searchFilesByTags:(e,t)=>{if(0===e.length)return()=>{};try{let r=(0,n.hJ)(l.db,"files"),s=e.reduce((e,t)=>{let r=u.find(e=>e.tags.includes(t));if(r){let t=r.tags.filter(t=>!e.includes(t));return[...e,...t]}return e.includes(t)?e:[...e,t]},[]),a=(0,n.IO)(r,(0,n.ar)("tags","array-contains-any",s),(0,n.Xo)("createdAt","desc"));return(0,n.cf)(a,r=>{let s=r.docs.map(e=>({id:e.id,...e.data()})).filter(t=>e.every(e=>{let r=u.find(t=>t.tags.includes(e));return r?r.tags.some(e=>t.tags.includes(e)):t.tags.includes(e)}));t(s)})}catch(e){return console.error("Erreur lors de la recherche des fichiers en temps r\xe9el :",e),()=>{}}}},children:t})},d=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useFiles must be used within a FilesProvider");return e}},3390:function(e,t,r){"use strict";var s=r(7437),a=r(2265),n=r(6648),l=r(4589),i=r(842),o=r(5373),d=r(4413),c=r(4954),u=r(9651),h=r(6730),m=r(2103),x=r(6463),f=r(7453),g=r(8786),v=r(466);t.Z=e=>{let{children:t}=e,[r,w]=(0,a.useState)(!1),p=(0,x.useRouter)(),{logout:b}=(0,f.a)(),{totalTags:j}=(0,g.e)(),{totalFiles:N,loadingFiles:k}=(0,v.Y)(),{user:y}=(0,f.a)(),E=async()=>{try{await b(),p.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion\xa0:",e)}},Z=()=>{p.push("/profile")},C=()=>{p.push("/audio")},L=()=>{w(!1)};return(0,a.useEffect)(()=>{r?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[r]),(0,s.jsxs)("div",{className:"flex relative",children:[!r&&(0,s.jsx)("button",{className:"lg:hidden fixed top-8 left-4 z-50 text-white",onClick:()=>w(!r),children:(0,s.jsx)(l.Z,{className:"w-8 h-8"})}),r&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:L}),(0,s.jsx)("aside",{className:"fixed top-0 left-0 z-40 w-[75%] lg:w-[20%] h-screen bg-dark2 text-white transform ".concat(r?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out lg:translate-x-0"),children:(0,s.jsx)("div",{className:"flex flex-col h-full px-4 py-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-8 md:mb-12",children:(0,s.jsx)(n.default,{src:"/images/GazlandprojetDashboard.png",alt:"Logo",layout:"intrinsic",width:250,height:125,className:"h-6"})}),(0,s.jsxs)("ul",{className:"space-y-2 font-medium",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"/dashboard",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:L,children:[(0,s.jsx)(i.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,s.jsx)("span",{className:"ml-3",children:"Accueil"})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"/audio",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:()=>{C(),L()},children:[(0,s.jsx)(o.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,s.jsx)("span",{className:"ml-3",children:"Audio"})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"/ranking",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:()=>{p.push("/ranking")},children:[(0,s.jsx)(d.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,s.jsx)("span",{className:"ml-3",children:"Classement"})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"/linked",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:L,children:[(0,s.jsx)(c.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,s.jsx)("span",{className:"ml-3",children:"Tags li\xe9s"})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("a",{href:"#",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:()=>{Z(),L()},children:[(0,s.jsx)(u.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,s.jsx)("span",{className:"ml-3",children:"Mon Profil"})]})})]}),(0,s.jsxs)("div",{className:"mt-8 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-dark3",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(h.Z,{className:"w-6 h-6 me-2"}),"Tous les fichiers"]}),(0,s.jsx)("span",{className:"bg-gray-700 text-xs rounded-md px-2 py-1",children:N})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-dark3",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(h.Z,{className:"w-6 h-6 me-2"}),"Tous les dossiers"]}),(0,s.jsx)("span",{className:"bg-gray-700 text-xs rounded-md px-2 py-1",children:j})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("button",{onClick:E,className:"flex items-center w-full p-2 rounded-lg hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",children:[(0,s.jsx)(m.Z,{className:"w-6 h-6 text-gray-400"}),(0,s.jsx)("span",{className:"ml-3",children:"D\xe9connexion"})]})})]})})}),(0,s.jsx)("div",{className:"flex-1 ml-0 lg:ml-[20%] ",children:t})]})}},263:function(e,t,r){"use strict";var s=r(7437),a=r(2265),n=r(6463),l=r(7453);t.Z=e=>t=>{let{user:r,loading:i}=(0,l.a)(),o=(0,n.useRouter)(),d=(0,n.usePathname)();return((0,a.useEffect)(()=>{i||(r?r.isValidated||"/account-validation"===d||o.push("/account-validation"):o.push("/"))},[r,i,o,d]),!i&&r&&(r.isValidated||"/account-validation"===d))?(0,s.jsx)(e,{...t}):null}},2103:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))});t.Z=a},4589:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))});t.Z=a},6730:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))});t.Z=a},842:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});t.Z=a},4954:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))});t.Z=a},5373:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))});t.Z=a},4413:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))});t.Z=a},9651:function(e,t,r){"use strict";var s=r(2265);let a=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});t.Z=a}},function(e){e.O(0,[358,691,697,453,971,23,744],function(){return e(e.s=2936)}),_N_E=e.O()}]);