(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9385:function(e,s,t){Promise.resolve().then(t.bind(t,529))},529:function(e,s,t){"use strict";t.r(s);var a=t(7437),r=t(2265),n=t(8872);t(2392);var i=t(3390),l=t(263),d=t(7453),o=t(9842);s.default=(0,l.Z)(()=>{var e,s,t;let{user:l,loading:c}=(0,d.a)(),[u,m]=(0,r.useState)(!1),h=e=>e instanceof o.EK?e.toDate().toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):e instanceof Date?e.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"Date non disponible";return(0,r.useEffect)(()=>{c||console.log("Donn\xe9es utilisateur:",l)},[l,c]),(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"bg-dark1 min-h-screen p-8 text-white",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 font-title lg:ml-0 ml-6",children:"Mon Profil"}),(0,a.jsxs)("div",{className:"bg-dark2 p-4 rounded-lg shadow-md mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-title",children:"Infos du Profil"}),!c&&l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"mt-2 font-body",children:["Pseudonyme:"," ",(0,a.jsx)("span",{className:"text-greenPrimary",children:null==l?void 0:l.pseudonym})]}),(0,a.jsxs)("p",{className:"font-body",children:["Date de cr\xe9ation:"," ",(0,a.jsx)("span",{className:"text-greenPrimary",children:(null==l?void 0:l.creationDate)instanceof o.EK?h(null==l?void 0:null===(e=l.creationDate)||void 0===e?void 0:e.toDate()):(null==l?void 0:l.creationDate)instanceof Date?h(null==l?void 0:l.creationDate):"Date non disponible"})]}),(0,a.jsxs)("p",{className:"font-body",children:["Total de fichiers ajout\xe9s:"," ",(0,a.jsx)("span",{className:"text-greenPrimary",children:null==l?void 0:l.totalFileUploads})]})]}):(0,a.jsx)("p",{children:"Chargement des informations..."})]}),!c&&(null==l?void 0:l.recentFiles)&&l.recentFiles.length>0&&(0,a.jsxs)("div",{className:"bg-dark2 p-4 rounded-lg shadow-md mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-title",children:"Fichiers r\xe9cemment ajout\xe9s"}),(0,a.jsx)("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:l.recentFiles.map((e,s)=>(0,a.jsx)("div",{className:"bg-dark3 p-2 rounded-md shadow-md hover:shadow-lg transition-shadow duration-300",children:e.includes("video")||e.includes("mp4")?(0,a.jsx)("video",{src:e,controls:!0,className:"w-full h-auto object-contain rounded-md"}):(0,a.jsx)(n.Z,{children:(0,a.jsx)("div",{className:"relative pb-[80%] bg-dark3 rounded-md overflow-hidden",children:(0,a.jsx)("img",{src:e,alt:"Fichier r\xe9cent ".concat(s+1),className:"absolute top-0 left-0 w-full h-full object-cover rounded-md cursor-pointer"})})})},s))})]}),!c&&(null==l?void 0:l.createdTags)&&l.createdTags.length>0&&(0,a.jsxs)("div",{className:"bg-dark2 p-4 rounded-lg shadow-md mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-title",children:"Tags"}),(0,a.jsxs)("p",{className:"font-body",children:["Nombre de tags:"," ",(0,a.jsx)("span",{className:"text-greenPrimary",children:l.createdTags.length})]}),(0,a.jsx)("button",{onClick:()=>m(!u),className:"mt-2 bg-greenPrimary text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Afficher les Tags"}),u&&(0,a.jsx)("div",{className:"mt-4 flex flex-wrap",children:l.createdTags.slice().sort((e,s)=>e.localeCompare(s)).map((e,s)=>(0,a.jsx)("span",{className:"bg-greenPrimary text-white px-2 py-1 rounded-full mr-2 mb-2",children:e},s))})]}),!c&&(null==l?void 0:null===(s=l.recentFiles)||void 0===s?void 0:s.length)===0&&(0,a.jsxs)("div",{className:"bg-dark2 p-4 rounded-lg shadow-md mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-title",children:"Fichiers r\xe9cents"}),(0,a.jsx)("p",{className:"font-body",children:"Les connard upload rien"})]}),!c&&(null==l?void 0:null===(t=l.createdTags)||void 0===t?void 0:t.length)===0&&(0,a.jsxs)("div",{className:"bg-dark2 p-4 rounded-lg shadow-md mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-title",children:"Tags"}),(0,a.jsx)("p",{className:"font-body",children:"Aucun tag disponible."})]}),(0,a.jsxs)("div",{className:"bg-dark2 p-4 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-title text-center",children:"Succ\xe8s"}),(0,a.jsx)("div",{className:"mt-4 flex flex-col items-center justify-center",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 w-full max-w-5xl",children:[{id:1,name:"1er Upload",description:"Ajouter votre premier fichier",unlocked:!0},{id:2,name:"2000",description:"moi au moins, je suis pas un 2000",unlocked:!0},{id:7,name:" J'repr\xe9sente le sept",description:"Cr\xe9er 7 tags",unlocked:!0},{id:8,name:"Around 8",description:"Ajouter 8 fichiers",unlocked:!0},{id:9,name:"Bonne pioche !",description:"t\xe9l\xe9charger un fichier",unlocked:!0},{id:10,name:"Ghost 10",description:"Cr\xe9er 10 tags",unlocked:!0},{id:13,name:"13",description:"Ajouter 13 fichiers",unlocked:!0},{id:21,name:"Tu cr\xe9es une r\xe8gle.",description:"Cr\xe9er 21 tags",unlocked:!0},{id:69,name:"hentai",description:"Ajouter 69 fichiers",unlocked:!0},{id:99,name:"we are 99",description:"Ajouter 99 fichiers",unlocked:!0},{id:420,name:"420",description:"C\xe9l\xe9brer le 420.",unlocked:!0},{id:500,name:"Ma\xeetre des tags",description:"Cr\xe9er 50 tags",unlocked:!0}].map(e=>(0,a.jsxs)("div",{className:"bg-dark3 p-4 rounded-lg shadow-md flex flex-col items-center justify-center transition-shadow duration-300",children:[(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)("img",{src:e.unlocked?"/images/success/".concat(e.id,".png"):"/images/success/locked.png",alt:e.name,className:"object-contain w-full h-40 sm:h-48 md:h-56 lg:h-64 xl:h-72 rounded-md mb-2"})}),e.description&&(0,a.jsx)("p",{className:"text-s text-gray-400 font-body text-center",children:e.description})]},e.id))})})]})]})})})},466:function(e,s,t){"use strict";t.d(s,{FilesProvider:function(){return d},Y:function(){return o}});var a=t(7437),r=t(2265),n=t(9842),i=t(3908);let l=(0,r.createContext)(void 0),d=e=>{let{children:s}=e,[t,d]=(0,r.useState)(0),[o,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,n.PL)((0,n.hJ)(i.db,"files"));d(e.size)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration du nombre total de fichiers :",e)}finally{c(!1)}})()},[]),(0,a.jsx)(l.Provider,{value:{totalFiles:t,loadingFiles:o},children:s})},o=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useFiles must be used within a FilesProvider");return e}},8786:function(e,s,t){"use strict";t.d(s,{TagProvider:function(){return d},e:function(){return o}});var a=t(7437),r=t(2265),n=t(9842),i=t(3908);let l=(0,r.createContext)(void 0),d=e=>{let{children:s}=e,[t,d]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[u,m]=(0,r.useState)(!0),[h,x]=(0,r.useState)(0);return(0,r.useEffect)(()=>{(async()=>{try{let e=(0,n.IO)((0,n.hJ)(i.db,"tags"),(0,n.Xo)("name","asc")),s=await (0,n.PL)(e),t=s.docs.map(e=>e.id),a=s.docs.map(e=>({id:e.id,data:e.data()}));d(t),c(a),x(s.size)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des tags :",e)}finally{m(!1)}})()},[]),(0,a.jsx)(l.Provider,{value:{tags:t,tagsWithData:o,loadingTags:u,totalTags:h},children:s})},o=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useTags must be used within a TagProvider");return e}},7453:function(e,s,t){"use strict";t.d(s,{UserProvider:function(){return c},a:function(){return u}});var a=t(7437),r=t(2265),n=t(6463),i=t(3908),l=t(9842),d=t(5186);let o=(0,r.createContext)(void 0),c=e=>{let{children:s}=e,[t,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(!0),f=(0,n.useRouter)();(0,r.useEffect)(()=>{let e=(0,d.Aj)(i.I,async e=>{if(e){let s=(0,l.JU)(i.db,"users",e.uid),t=(0,l.cf)(s,s=>{if(s.exists()){let t={...s.data(),id:e.uid};c(t),t.isValidated||f.push("/account-validation")}else c(null);x(!1)}),a=(0,l.hJ)(i.db,"users"),r=(0,l.cf)(a,e=>{m(e.docs.map(e=>({...e.data(),id:e.id})))});return()=>{t(),r()}}c(null),x(!1)});return()=>e()},[f]);let g=async()=>{try{await (0,d.w7)(i.I),c(null),f.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion :",e)}};return(0,a.jsx)(o.Provider,{value:{user:t,allUsers:u,loading:h,logout:g},children:s})},u=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},3908:function(e,s,t){"use strict";t.d(s,{I:function(){return l},db:function(){return d}});var a=t(5236),r=t(5186),n=t(9842);let i=(0,a.ZF)({apiKey:"AIzaSyA3nabauSNn32rLpKIkT5BoPnH8GYBMgEo",authDomain:"drivegazland.firebaseapp.com",projectId:"drivegazland",storageBucket:"drivegazland.appspot.com",messagingSenderId:"159250775284",appId:"1:159250775284:web:1a9bb56fcbd44938a832a1",measurementId:"G-0TF1NK3MC2"}),l=(0,r.v0)(i),d=(0,n.ad)(i)},3390:function(e,s,t){"use strict";var a=t(7437),r=t(2265),n=t(6648),i=t(4589),l=t(842),d=t(4413),o=t(9651),c=t(6730),u=t(2103),m=t(6463),h=t(7453),x=t(8786),f=t(466);s.Z=e=>{let{children:s}=e,[t,g]=(0,r.useState)(!1),p=(0,m.useRouter)(),{logout:j}=(0,h.a)(),{totalTags:v}=(0,x.e)(),{totalFiles:b,loadingFiles:N}=(0,f.Y)(),w=async()=>{try{await j(),p.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion\xa0:",e)}},y=()=>{p.push("/profile")},k=()=>{g(!1)};return(0,r.useEffect)(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[t]),(0,a.jsxs)("div",{className:"flex relative",children:[!t&&(0,a.jsx)("button",{className:"lg:hidden fixed top-8 left-4 z-50 text-white",onClick:()=>g(!t),children:(0,a.jsx)(i.Z,{className:"w-8 h-8"})}),t&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:k}),(0,a.jsx)("aside",{className:"fixed top-0 left-0 z-40 w-[75%] lg:w-[20%] h-screen bg-dark2 text-white transform ".concat(t?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out lg:translate-x-0"),children:(0,a.jsx)("div",{className:"flex flex-col h-full px-4 py-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-8 md:mb-12",children:(0,a.jsx)(n.default,{src:"/images/GazlandprojetDashboard.png",alt:"Logo",layout:"intrinsic",width:250,height:125,className:"h-6"})}),(0,a.jsxs)("ul",{className:"space-y-2 font-medium",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/dashboard",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:k,children:[(0,a.jsx)(l.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,a.jsx)("span",{className:"ml-3",children:"Accueil"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/ranking",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:()=>{p.push("/ranking")},children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,a.jsx)("span",{className:"ml-3",children:"Classement"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"#",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:()=>{y(),k()},children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,a.jsx)("span",{className:"ml-3",children:"Mon Profil"})]})})]}),(0,a.jsxs)("div",{className:"mt-8 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-dark3",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 me-2"}),"Tous les fichiers"]}),(0,a.jsx)("span",{className:"bg-gray-700 text-xs rounded-md px-2 py-1",children:b})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-dark3",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 me-2"}),"Tous les dossiers"]}),(0,a.jsx)("span",{className:"bg-gray-700 text-xs rounded-md px-2 py-1",children:v})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("button",{onClick:w,className:"flex items-center w-full p-2 rounded-lg hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 text-gray-400"}),(0,a.jsx)("span",{className:"ml-3",children:"D\xe9connexion"})]})})]})})}),(0,a.jsx)("div",{className:"flex-1 ml-0 lg:ml-[20%] ",children:s})]})}},263:function(e,s,t){"use strict";var a=t(7437),r=t(2265),n=t(6463),i=t(7453);s.Z=e=>s=>{let{user:t,loading:l}=(0,i.a)(),d=(0,n.useRouter)(),o=(0,n.usePathname)();return((0,r.useEffect)(()=>{l||(t?t.isValidated||"/account-validation"===o||d.push("/account-validation"):d.push("/"))},[t,l,d,o]),!l&&t&&(t.isValidated||"/account-validation"===o))?(0,a.jsx)(e,{...s}):null}}},function(e){e.O(0,[43,358,691,72,648,239,971,23,744],function(){return e(e.s=9385)}),_N_E=e.O()}]);