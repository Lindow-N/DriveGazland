"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20],{466:function(e,t,s){s.d(t,{FilesProvider:function(){return o},Y:function(){return c}});var a=s(7437),r=s(2265),n=s(9842),l=s(3908);let i=(0,r.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,r.useState)(0),[c,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,n.PL)((0,n.hJ)(l.db,"files"));o(e.size)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration du nombre total de fichiers :",e)}finally{u(!1)}})()},[]),(0,a.jsx)(i.Provider,{value:{totalFiles:s,loadingFiles:c},children:t})},c=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useFiles must be used within a FilesProvider");return e}},8786:function(e,t,s){s.d(t,{TagProvider:function(){return o},e:function(){return c}});var a=s(7437),r=s(2265),n=s(9842),l=s(3908);let i=(0,r.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(!0),[f,x]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=(0,n.IO)((0,n.hJ)(l.db,"tags"),(0,n.Xo)("name","asc")),t=(0,n.cf)(e,e=>{let t=e.docs.map(e=>e.id),s=e.docs.map(e=>({id:e.id,data:e.data()}));o(t),u(s),x(e.size),h(!1)});return()=>t()},[]),(0,a.jsx)(i.Provider,{value:{tags:s,tagsWithData:c,loadingTags:d,totalTags:f},children:t})},c=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useTags must be used within a TagProvider");return e}},7453:function(e,t,s){s.d(t,{UserProvider:function(){return f},a:function(){return h}});var a=s(7437),r=s(6463),n=s(3908),l=s(9842),i=s(5186),o=s(2265),c=s(2126),u=s(8786);let d=(0,o.createContext)(void 0),h=()=>{let e=(0,o.useContext)(d);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e},f=e=>{let{children:t}=e,[s,h]=(0,o.useState)(null),[f,x]=(0,o.useState)(null),[m,g]=(0,o.useState)(!0),[p,v]=(0,o.useState)(!1),j=(0,r.useRouter)(),y=(0,r.usePathname)(),{tags:w,loadingTags:b}=(0,u.e)();(0,o.useEffect)(()=>{let e=(0,i.Aj)(n.I,async e=>{if(e){let t=(0,l.JU)(n.db,"users",e.uid),s=(0,l.cf)(t,t=>{if(t.exists()){let s={...t.data(),id:e.uid};h(s),localStorage.getItem("toastShown")||p||((0,c.XA)("Salut ".concat(s.pseudonym," !")),v(!0),localStorage.setItem("toastShown","true")),b||(s.isValidated?["/dashboard","/ranking","/profile","/uploadMedia"].includes(null!=y?y:"")||j.push("/dashboard"):j.push("/account-validation"))}else h(null);g(!1)}),a=(0,l.hJ)(n.db,"users"),r=(0,l.cf)(a,e=>{x(e.docs.map(e=>({...e.data(),id:e.id})))});return()=>{s(),r()}}h(null),g(!1)});return()=>e()},[j,p,b,y]);let N=async()=>{try{await (0,i.w7)(n.I),h(null),v(!1),localStorage.removeItem("toastShown"),j.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion :",e),(0,c.Eo)("Ne part pas ! :(")}};return(0,a.jsx)(d.Provider,{value:{user:s,allUsers:f,loading:m,logout:N},children:t})}},3908:function(e,t,s){s.d(t,{I:function(){return i},db:function(){return o}});var a=s(5236),r=s(5186),n=s(9842);let l=(0,a.ZF)({apiKey:"AIzaSyA3nabauSNn32rLpKIkT5BoPnH8GYBMgEo",authDomain:"drivegazland.firebaseapp.com",projectId:"drivegazland",storageBucket:"drivegazland.appspot.com",messagingSenderId:"159250775284",appId:"1:159250775284:web:1a9bb56fcbd44938a832a1",measurementId:"G-0TF1NK3MC2"}),i=(0,r.v0)(l),o=(0,n.ad)(l)},3390:function(e,t,s){var a=s(7437),r=s(2265),n=s(6648),l=s(4589),i=s(842),o=s(4413),c=s(9651),u=s(6730),d=s(2103),h=s(6463),f=s(7453),x=s(8786),m=s(466);t.Z=e=>{let{children:t}=e,[s,g]=(0,r.useState)(!1),p=(0,h.useRouter)(),{logout:v}=(0,f.a)(),{totalTags:j}=(0,x.e)(),{totalFiles:y,loadingFiles:w}=(0,m.Y)(),b=async()=>{try{await v(),p.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion\xa0:",e)}},N=()=>{p.push("/profile")},k=()=>{g(!1)};return(0,r.useEffect)(()=>{s?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[s]),(0,a.jsxs)("div",{className:"flex relative",children:[!s&&(0,a.jsx)("button",{className:"lg:hidden fixed top-8 left-4 z-50 text-white",onClick:()=>g(!s),children:(0,a.jsx)(l.Z,{className:"w-8 h-8"})}),s&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:k}),(0,a.jsx)("aside",{className:"fixed top-0 left-0 z-40 w-[75%] lg:w-[20%] h-screen bg-dark2 text-white transform ".concat(s?"translate-x-0":"-translate-x-full"," transition-transform duration-300 ease-in-out lg:translate-x-0"),children:(0,a.jsx)("div",{className:"flex flex-col h-full px-4 py-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-8 md:mb-12",children:(0,a.jsx)(n.default,{src:"/images/GazlandprojetDashboard.png",alt:"Logo",layout:"intrinsic",width:250,height:125,className:"h-6"})}),(0,a.jsxs)("ul",{className:"space-y-2 font-medium",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/dashboard",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:k,children:[(0,a.jsx)(i.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,a.jsx)("span",{className:"ml-3",children:"Accueil"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/ranking",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:()=>{p.push("/ranking")},children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,a.jsx)("span",{className:"ml-3",children:"Classement"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"#",className:"flex items-center p-2 text-gray-100 rounded-lg dark:text-white hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",onClick:()=>{N(),k()},children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 text-gray-400 group-hover:text-white"}),(0,a.jsx)("span",{className:"ml-3",children:"Mon Profil"})]})})]}),(0,a.jsxs)("div",{className:"mt-8 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-dark3",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 me-2"}),"Tous les fichiers"]}),(0,a.jsx)("span",{className:"bg-gray-700 text-xs rounded-md px-2 py-1",children:y})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg bg-dark3",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 me-2"}),"Tous les dossiers"]}),(0,a.jsx)("span",{className:"bg-gray-700 text-xs rounded-md px-2 py-1",children:j})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("button",{onClick:b,className:"flex items-center w-full p-2 rounded-lg hover:bg-gray-700 hover:text-white transition duration-150 ease-in-out",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-gray-400"}),(0,a.jsx)("span",{className:"ml-3",children:"D\xe9connexion"})]})})]})})}),(0,a.jsx)("div",{className:"flex-1 ml-0 lg:ml-[20%] ",children:t})]})}},4364:function(e,t,s){s.d(t,{Pn:function(){return r},zK:function(){return n}});let a=e=>e.trim().toLowerCase(),r=(e,t)=>{let s=a(t);return e.includes(s)?e:[...e,s]},n=e=>{let t=Math.floor(Math.random()*e.length);return e[t]}},2126:function(e,t,s){s.d(t,{Eo:function(){return u},QT:function(){return d},XA:function(){return c}});var a=s(7437),r=s(3580),n=s(6648),l=s(4364);let i=["Psartek \uD83C\uDF89","Pas mal elle","Mets les nudes de ta soeur plutot \uD83D\uDC4D","Ho ouai","Ho ouai","Ho ouai","Gors","Sa va","Pas mal","chaque upload fait grandir de 1 cm ton sexe","Bien jou\xe9 !","Ha ouai j'aime bien elle","ez","gg","Sa manque de hentai tout sa","ok super","Basique","C'est pas mal","ha ouai m'en souviens de celle la","J'aime bien","J'aime bien celle la","Tu peux faire mieux","si c'est pour upload sa..."],o=["Oups, quelque chose s'est mal pass\xe9 ! \uD83D\uDE15","merde j'ai cass\xe9 un truc","oula... c'est pas bon","saint jos\xe9 des le matin, me sent pas bien"],c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||(0,l.zK)(i);r.Am.success((0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{style:{width:"75px",height:"75px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"flex-start"},children:(0,a.jsx)(n.default,{src:"/images/toast/success-icon.png",alt:"Success",layout:"intrinsic",width:75,height:75})}),(0,a.jsx)("span",{className:"flex-grow text-left ml-3",style:{color:"#ffffff"},children:t})]}),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",icon:!1,style:{backgroundColor:"#1C7B47",color:"#ffffff"}})},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e||(0,l.zK)(o);r.Am.error((0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{style:{width:"75px",height:"75px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"flex-start"},children:(0,a.jsx)(n.default,{src:"/images/toast/error-icon.png",alt:"Error",layout:"intrinsic",width:75,height:75})}),(0,a.jsx)("span",{className:"flex-grow text-left ml-3",style:{color:"#ffffff"},children:t})]}),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",icon:!1,style:{backgroundColor:"#D62839",color:"#ffffff"}})},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.Am.error((0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{style:{width:"75px",height:"75px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"flex-start"},children:(0,a.jsx)(n.default,{src:"/images/toast/mock-icon.png",alt:"Mock",layout:"intrinsic",width:75,height:75})}),(0,a.jsx)("span",{className:"flex-grow text-left ml-3",style:{color:"#ffffff"},children:e||"Ceci est un toast moqueur ! \uD83D\uDE1C"})]}),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",icon:!1,style:{backgroundColor:"#FAA613",color:"#ffffff"}})}},263:function(e,t,s){var a=s(7437),r=s(2265),n=s(6463),l=s(7453);t.Z=e=>t=>{let{user:s,loading:i}=(0,l.a)(),o=(0,n.useRouter)(),c=(0,n.usePathname)();return((0,r.useEffect)(()=>{i||(s?s.isValidated||"/account-validation"===c||o.push("/account-validation"):o.push("/"))},[s,i,o,c]),!i&&s&&(s.isValidated||"/account-validation"===c))?(0,a.jsx)(e,{...t}):null}}}]);