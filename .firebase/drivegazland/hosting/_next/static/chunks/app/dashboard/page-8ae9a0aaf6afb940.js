(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{8861:function(e,t,r){Promise.resolve().then(r.bind(r,9544))},9544:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(7437),l=r(2265),a=r(3390),n=r(6463);let i=l.forwardRef(function(e,t){let{title:r,titleId:s,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),r?l.createElement("title",{id:s},r):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),d=l.forwardRef(function(e,t){let{title:r,titleId:s,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),r?l.createElement("title",{id:s},r):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var c=e=>{let{greetingText:t}=e,r=(0,n.useRouter)();return(0,s.jsxs)("header",{className:"bg-dark2 px-8 py-7 flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-white text-lg md:text-3xl ml-6 hidden lg:block",children:t}),(0,s.jsxs)("div",{className:"flex items-center w-full lg:w-2/3 ml-6",children:[(0,s.jsxs)("div",{className:"flex items-center bg-dark3 rounded-lg w-full mr-4 lg:w-3/4",children:[(0,s.jsx)(i,{className:"w-5 h-5 text-gray-400 ml-2"}),(0,s.jsx)("input",{type:"text",placeholder:"Rechercher...",className:"w-full px-2 py-2 bg-dark3 text-white placeholder-gray-400 rounded-lg focus:outline-none"})]}),(0,s.jsxs)("button",{onClick:()=>{r.push("/uploadMedia")},className:"flex items-center bg-greenPrimary text-white px-2 py-1 rounded-lg hover:bg-green-600 transition duration-150 ease-in-out md:px-4 md:py-2 whitespace-nowrap",children:[(0,s.jsx)(d,{className:"w-7 h-7 mr-0 md:mr-2"}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Ajouter un m\xe9dia"})]})]})]})},o=r(2549);let m=e=>e.includes("video")||e.endsWith(".mp4")||e.endsWith(".mov")||e.endsWith(".avi");var u=e=>{let{files:t}=e,r=(0,l.useRef)([]);return(0,l.useEffect)(()=>{r.current.forEach(e=>{e&&(e.currentTime=0,e.pause())})},[t]),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 p-4 sm:p-8 md:px-16",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"bg-dark2 rounded-lg shadow-md p-4 cursor-pointer transition duration-150 ease-in-out hover:bg-dark3",children:[m(e.imageSrc)?(0,s.jsx)("video",{ref:e=>{r.current[t]=e},className:"w-full h-32 md:h-40 object-cover rounded-md mb-4",src:e.imageSrc,muted:!0,controls:!1,onLoadedData:e=>e.currentTarget.currentTime=0}):(0,s.jsx)("img",{src:e.imageSrc,alt:e.title,className:"w-full h-32 md:h-40 object-cover rounded-md mb-4"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-white font-bold text-sm md:text-lg",children:e.title}),(0,s.jsx)("span",{className:"bg-gray-700 text-xs text-white rounded-md px-2 py-1",children:e.totalFiles})]})]},e.id))})},h=r(263),g=r(7453),x=r(8786),p=(0,h.Z)(()=>{let{user:e}=(0,g.a)(),{tagsWithData:t,loadingTags:r}=(0,x.e)(),[n,i]=(0,l.useState)("Tous les fichiers"),d=t.map(e=>({id:e.id,imageSrc:e.data.lastAddedFileUrl||"/images/default.jpg",title:e.data.name,totalFiles:e.data.totalFiles}));return(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(c,{greetingText:"Bienvenue, ".concat(null==e?void 0:e.pseudonym," !")}),(0,s.jsx)(o.Z,{categories:["Tous les fichiers","Favoris"],selectedCategory:n,onCategorySelect:i}),(0,s.jsx)("div",{className:"min-h-screen bg-dark1",children:r?(0,s.jsx)("p",{children:"Chargement des tags..."}):(0,s.jsx)(u,{files:d})})]})})}},function(e){e.O(0,[358,691,72,648,469,971,23,744],function(){return e(e.s=8861)}),_N_E=e.O()}]);