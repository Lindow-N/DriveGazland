(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9273:function(e,t,r){Promise.resolve().then(r.bind(r,3580)),Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.t.bind(r,4193,23)),Promise.resolve().then(r.bind(r,466)),Promise.resolve().then(r.bind(r,8786)),Promise.resolve().then(r.bind(r,7453))},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},466:function(e,t,r){"use strict";r.d(t,{FilesProvider:function(){return o},Y:function(){return d}});var n=r(7437),u=r(2265),s=r(9842),i=r(3908);let a=(0,u.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,u.useState)(0),[d,c]=(0,u.useState)(!0);return(0,u.useEffect)(()=>{(async()=>{try{let e=await (0,s.PL)((0,s.hJ)(i.db,"files"));o(e.size)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration du nombre total de fichiers :",e)}finally{c(!1)}})()},[]),(0,n.jsx)(a.Provider,{value:{totalFiles:r,loadingFiles:d},children:t})},d=()=>{let e=(0,u.useContext)(a);if(void 0===e)throw Error("useFiles must be used within a FilesProvider");return e}},8786:function(e,t,r){"use strict";r.d(t,{TagProvider:function(){return o},e:function(){return d}});var n=r(7437),u=r(2265),s=r(9842),i=r(3908);let a=(0,u.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,u.useState)([]),[d,c]=(0,u.useState)([]),[l,f]=(0,u.useState)(!0),[v,h]=(0,u.useState)(0);return(0,u.useEffect)(()=>{(async()=>{try{let e=(0,s.IO)((0,s.hJ)(i.db,"tags"),(0,s.Xo)("name","asc")),t=await (0,s.PL)(e),r=t.docs.map(e=>e.id),n=t.docs.map(e=>({id:e.id,data:e.data()}));o(r),c(n),h(t.size)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des tags :",e)}finally{f(!1)}})()},[]),(0,n.jsx)(a.Provider,{value:{tags:r,tagsWithData:d,loadingTags:l,totalTags:v},children:t})},d=()=>{let e=(0,u.useContext)(a);if(void 0===e)throw Error("useTags must be used within a TagProvider");return e}},7453:function(e,t,r){"use strict";r.d(t,{UserProvider:function(){return c},a:function(){return l}});var n=r(7437),u=r(2265),s=r(6463),i=r(3908),a=r(9842),o=r(5186);let d=(0,u.createContext)(void 0),c=e=>{let{children:t}=e,[r,c]=(0,u.useState)(null),[l,f]=(0,u.useState)(null),[v,h]=(0,u.useState)(!0),b=(0,s.useRouter)();(0,u.useEffect)(()=>{let e=(0,o.Aj)(i.I,async e=>{if(e){let t=(0,a.JU)(i.db,"users",e.uid),r=(0,a.cf)(t,t=>{if(t.exists()){let r={...t.data(),id:e.uid};c(r),r.isValidated||b.push("/account-validation")}else c(null);h(!1)}),n=(0,a.hJ)(i.db,"users"),u=(0,a.cf)(n,e=>{f(e.docs.map(e=>({...e.data(),id:e.id})))});return()=>{r(),u()}}c(null),h(!1)});return()=>e()},[b]);let m=async()=>{try{await (0,o.w7)(i.I),c(null),b.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion :",e)}};return(0,n.jsx)(d.Provider,{value:{user:r,allUsers:l,loading:v,logout:m},children:t})},l=()=>{let e=(0,u.useContext)(d);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},3908:function(e,t,r){"use strict";r.d(t,{I:function(){return a},db:function(){return o}});var n=r(5236),u=r(5186),s=r(9842);let i=(0,n.ZF)({apiKey:"AIzaSyA3nabauSNn32rLpKIkT5BoPnH8GYBMgEo",authDomain:"drivegazland.firebaseapp.com",projectId:"drivegazland",storageBucket:"drivegazland.appspot.com",messagingSenderId:"159250775284",appId:"1:159250775284:web:1a9bb56fcbd44938a832a1",measurementId:"G-0TF1NK3MC2"}),a=(0,u.v0)(i),o=(0,s.ad)(i)},4193:function(){},3054:function(){}},function(e){e.O(0,[811,358,691,72,580,971,23,744],function(){return e(e.s=9273)}),_N_E=e.O()}]);